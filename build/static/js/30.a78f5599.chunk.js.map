{"version":3,"sources":["components/Machine/Layout/ContentWrapper.js","components/Machine/HeadingMenu.js","../node_modules/reactstrap/es/Progress.js","../node_modules/reactstrap/es/Form.js","../node_modules/reactstrap/es/FormGroup.js","../node_modules/reactstrap/es/Input.js","components/Machine/CRUD/ListMachine.js"],"names":["ContentWrapper","props","className","unwrap","children","defaultProps","HeadingMenu","path","this","map","element","value","label","to","title","Component","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","propTypes","PropTypes","node","bar","bool","multi","tag","tagPropType","oneOfType","string","number","min","max","animated","striped","color","barClassName","cssModule","style","barStyle","barAriaValueText","barAriaLabelledBy","Progress","Tag","attributes","_objectWithoutPropertiesLoose","percent","toNumber","progressClasses","mapToCssModules","classNames","progressBarProps","width","role","React","createElement","_extends","inline","innerRef","func","Form","_Component","_this","call","getRef","bind","_assertThisInitialized","submit","_inheritsLoose","_proto","prototype","ref","render","_this$props","classes","row","check","disabled","FormGroup","type","size","bsSize","valid","invalid","plaintext","addon","Input","_React$Component","focus","checkInput","indexOf","isNotaNumber","RegExp","formControlClass","test","warnOnce","SearchBar","Search","ExportCSVButton","CSVExport","LocaliteFormatter","cell","localite","lieu","quartier","pays","ville","DateFormatter","lastUsed","Date","createdAt","toUTCString","console","log","lastSent","StatusFormatter","status","data-title","LevelFormatter","level","OptionFormatter","rowIndex","selectRow","mode","clickToSelect","selectStatus","headingStyle","backgroundColor","ListMachine","context","onChangeDay","day","setState","formFilter","date","toDate","testok","state","machines","created","onChangeMonth","month","mois","onChangeStatus","event","input","form","checked","name","allowFilter","e","find","defaultMachines","machine","isFilter","clearFilter","original","heure","firebase","firestore","collection","unsubscribe","isLoading","_columns","dataField","text","hidden","headerStyle","sort","formatter","isDummyField","axios","get","url_machines","then","res","data","catch","error","options","custom","paginationSize","pageStartIndex","sizePerPage","firstPageText","prePageText","nextPageText","lastPageText","nextPageTitle","prePageTitle","firstPageTitle","lastPageTitle","showTotal","paginationTotalRenderer","customTotal","sizePerPageList","totalSize","labelStatus","from","pagination","paginationFactory","paginationProps","paginationTableProps","keyField","columns","search","toolkitprops","inputProps","defaultValue","onChange","timeFormat","dateFormat","placeholder","onClick","searchProps","bootstrap4","hover","filterFactory","baseProps","csvProps"],"mappings":"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","file":"static/js/30.a78f5599.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Wrapper element for template content\n */\nconst ContentWrapper = props =>(\n    <div className=\"content-wrapper\">\n        {props.unwrap ?\n            (<div className=\"unwrap\">{props.children}</div>)\n            :\n            (props.children)\n        }\n    </div>\n)\n\nContentWrapper.propTypes = {\n    /** add element with 'unwrap' class to expand content area */\n    unwrap: PropTypes.bool\n}\nContentWrapper.defaultProps = {\n    unwrap: false\n}\n\nexport default ContentWrapper;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass HeadingMenu extends Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        const path = this.props.path\n        return (\n            <div className=\"content-heading\">\n                    <ol className=\"breadcrumb\">\n                        {path.map((element) =>\n                            element.value == '' ? (\n                                <li className=\"breadcrumb-item active\"> { element.label } </li>\n                            ):(\n                                <li className=\"breadcrumb-item\"> \n                                    <Link to={element.value} title={element.label}> \n                                        { element.label } \n                                    </Link> \n                                </li>\n                            )\n                        )}\n                   </ol>\n            </div>\n                \n        )\n    }\n}\n\nexport default HeadingMenu;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType, toNumber } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  bar: PropTypes.bool,\n  multi: PropTypes.bool,\n  tag: tagPropType,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  min: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  max: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  animated: PropTypes.bool,\n  striped: PropTypes.bool,\n  color: PropTypes.string,\n  className: PropTypes.string,\n  barClassName: PropTypes.string,\n  cssModule: PropTypes.object,\n  style: PropTypes.object,\n  barStyle: PropTypes.object,\n  barAriaValueText: PropTypes.string,\n  barAriaLabelledBy: PropTypes.string\n};\nvar defaultProps = {\n  tag: 'div',\n  value: 0,\n  min: 0,\n  max: 100,\n  style: {},\n  barStyle: {}\n};\n\nvar Progress = function Progress(props) {\n  var children = props.children,\n      className = props.className,\n      barClassName = props.barClassName,\n      cssModule = props.cssModule,\n      value = props.value,\n      min = props.min,\n      max = props.max,\n      animated = props.animated,\n      striped = props.striped,\n      color = props.color,\n      bar = props.bar,\n      multi = props.multi,\n      Tag = props.tag,\n      style = props.style,\n      barStyle = props.barStyle,\n      barAriaValueText = props.barAriaValueText,\n      barAriaLabelledBy = props.barAriaLabelledBy,\n      attributes = _objectWithoutPropertiesLoose(props, [\"children\", \"className\", \"barClassName\", \"cssModule\", \"value\", \"min\", \"max\", \"animated\", \"striped\", \"color\", \"bar\", \"multi\", \"tag\", \"style\", \"barStyle\", \"barAriaValueText\", \"barAriaLabelledBy\"]);\n\n  var percent = toNumber(value) / toNumber(max) * 100;\n  var progressClasses = mapToCssModules(classNames(className, 'progress'), cssModule);\n  var progressBarClasses = mapToCssModules(classNames('progress-bar', bar ? className || barClassName : barClassName, animated ? 'progress-bar-animated' : null, color ? \"bg-\" + color : null, striped || animated ? 'progress-bar-striped' : null), cssModule);\n  var progressBarProps = {\n    className: progressBarClasses,\n    style: _objectSpread(_objectSpread(_objectSpread({}, bar ? style : {}), barStyle), {}, {\n      width: percent + \"%\"\n    }),\n    role: 'progressbar',\n    'aria-valuenow': value,\n    'aria-valuemin': min,\n    'aria-valuemax': max,\n    'aria-valuetext': barAriaValueText,\n    'aria-labelledby': barAriaLabelledBy,\n    children: children\n  };\n\n  if (bar) {\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, progressBarProps));\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    style: style,\n    className: progressClasses\n  }), multi ? children : /*#__PURE__*/React.createElement(\"div\", progressBarProps));\n};\n\nProgress.propTypes = propTypes;\nProgress.defaultProps = defaultProps;\nexport default Progress;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  inline: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'form'\n};\n\nvar Form = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n    _this.submit = _this.submit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Form.prototype;\n\n  _proto.getRef = function getRef(ref) {\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    this.ref = ref;\n  };\n\n  _proto.submit = function submit() {\n    if (this.ref) {\n      this.ref.submit();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        inline = _this$props.inline,\n        Tag = _this$props.tag,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"cssModule\", \"inline\", \"tag\", \"innerRef\"]);\n\n    var classes = mapToCssModules(classNames(className, inline ? 'form-inline' : false), cssModule);\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      className: classes\n    }));\n  };\n\n  return Form;\n}(Component);\n\nForm.propTypes = propTypes;\nForm.defaultProps = defaultProps;\nexport default Form;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  row: PropTypes.bool,\n  check: PropTypes.bool,\n  inline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar FormGroup = function FormGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      row = props.row,\n      disabled = props.disabled,\n      check = props.check,\n      inline = props.inline,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"row\", \"disabled\", \"check\", \"inline\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, row ? 'row' : false, check ? 'form-check' : 'form-group', check && inline ? 'form-check-inline' : false, check && disabled ? 'disabled' : false), cssModule);\n\n  if (Tag === 'fieldset') {\n    attributes.disabled = disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormGroup.propTypes = propTypes;\nFormGroup.defaultProps = defaultProps;\nexport default FormGroup;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\n/* eslint react/prefer-stateless-function: 0 */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, warnOnce, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  bsSize: PropTypes.string,\n  valid: PropTypes.bool,\n  invalid: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  plaintext: PropTypes.bool,\n  addon: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  type: 'text'\n};\n\nvar Input = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Input, _React$Component);\n\n  function Input(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n    _this.focus = _this.focus.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Input.prototype;\n\n  _proto.getRef = function getRef(ref) {\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    this.ref = ref;\n  };\n\n  _proto.focus = function focus() {\n    if (this.ref) {\n      this.ref.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        type = _this$props.type,\n        bsSize = _this$props.bsSize,\n        valid = _this$props.valid,\n        invalid = _this$props.invalid,\n        tag = _this$props.tag,\n        addon = _this$props.addon,\n        plaintext = _this$props.plaintext,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"cssModule\", \"type\", \"bsSize\", \"valid\", \"invalid\", \"tag\", \"addon\", \"plaintext\", \"innerRef\"]);\n\n    var checkInput = ['radio', 'checkbox'].indexOf(type) > -1;\n    var isNotaNumber = new RegExp('\\\\D', 'g');\n    var fileInput = type === 'file';\n    var textareaInput = type === 'textarea';\n    var selectInput = type === 'select';\n    var rangeInput = type === 'range';\n    var Tag = tag || (selectInput || textareaInput ? type : 'input');\n    var formControlClass = 'form-control';\n\n    if (plaintext) {\n      formControlClass = formControlClass + \"-plaintext\";\n      Tag = tag || 'input';\n    } else if (fileInput) {\n      formControlClass = formControlClass + \"-file\";\n    } else if (rangeInput) {\n      formControlClass = formControlClass + \"-range\";\n    } else if (checkInput) {\n      if (addon) {\n        formControlClass = null;\n      } else {\n        formControlClass = 'form-check-input';\n      }\n    }\n\n    if (attributes.size && isNotaNumber.test(attributes.size)) {\n      warnOnce('Please use the prop \"bsSize\" instead of the \"size\" to bootstrap\\'s input sizing.');\n      bsSize = attributes.size;\n      delete attributes.size;\n    }\n\n    var classes = mapToCssModules(classNames(className, invalid && 'is-invalid', valid && 'is-valid', bsSize ? \"form-control-\" + bsSize : false, formControlClass), cssModule);\n\n    if (Tag === 'input' || tag && typeof tag === 'function') {\n      attributes.type = type;\n    }\n\n    if (attributes.children && !(plaintext || type === 'select' || typeof Tag !== 'string' || Tag === 'select')) {\n      warnOnce(\"Input with a type of \\\"\" + type + \"\\\" cannot have children. Please use \\\"value\\\"/\\\"defaultValue\\\" instead.\");\n      delete attributes.children;\n    }\n\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      className: classes,\n      \"aria-invalid\": invalid\n    }));\n  };\n\n  return Input;\n}(React.Component);\n\nInput.propTypes = propTypes;\nInput.defaultProps = defaultProps;\nexport default Input;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport firebase from '../../../firebase';\nimport axios from 'axios';\nimport {url_machines} from '../../../urls'\n//\nimport ContentWrapper from '../Layout/ContentWrapper';\nimport { Progress, Button, Row, CardBody, CardHeader, CardFooter, Card, Form, FormGroup, Input } from 'reactstrap';\nimport Datetime from 'react-datetime';\nimport 'react-datetime/css/react-datetime.css';\nimport filterFactory,{textFilter, selectFilter, dateFilter, numberFilter} from 'react-bootstrap-table2-filter';\nimport paginationFactory, { PaginationProvider, PaginationListStandalone } from 'react-bootstrap-table2-paginator';\nimport ToolkitProvider, { Search, CSVExport } from 'react-bootstrap-table2-toolkit';\nimport HeadingMenu from '../HeadingMenu';\nimport PageLoader from '../../Common/PageLoader';\n\nconst { SearchBar } = Search;\nconst { ExportCSVButton } = CSVExport;\n\n\n/**  Custom Formatter */\n// format de l'adresse de la machine\nfunction LocaliteFormatter(cell, row) {\n    const {lieu, pays, quartier, ville} = new Object(row.localite)\n    return (\n        <address>\n            <span> {quartier} </span>\n            <br/>\n            <small className=\"text-italic\"> {lieu} </small>\n        </address>\n    )\n}\n\n// format de la date\nfunction DateFormatter(cell, row) {\n    const date = new Date(row.createdAt)\n    const lastUsed = date.toUTCString()\n    console.log(row.lastSent)\n    return(\n        <span> {lastUsed} </span> \n    )\n}\n\n// format du status de la machine\nfunction StatusFormatter(cell, row) {\n    if (row.status) {\n      return (<div className=\"circle circle-lg bg-success\" data-title=\"normal\"/>);\n    }\n\n    return (<div className=\"circle circle-lg bg-danger\" data-title=\"normal\"/>);\n}\n\n// format du niveau de remplissage de la machine\nfunction LevelFormatter(cell, row) {\n    let vari;\n    row.level == 0 ? (\n        vari = (<Progress color='gray-light' value='100'> 0% </Progress>)\n    ): row.level < 50? (\n        vari = (<Progress color='warning' value={cell}> {cell}% </Progress>)        \n    ) : row.level < 75? (\n        vari = (<Progress color='warning' value={cell}> {cell}% </Progress>)        \n    ) : ( \n        vari = (<Progress color='danger' value={cell}> {cell}% </Progress>)        \n    )\n    return vari;\n}\n\n// format des options sur les données\nfunction OptionFormatter(cell, row, rowIndex) {\n    return (\n        <div className=\"md-6 row \">\n            <div className='pl-3 pr-3'>\n                <Link to={`/show_machine/${row.key}`}><span className=\"fas fa-info-circle fa-1x text-info\"/> </Link>\n            </div>\n            <div className='pl-3'>\n                <Link to={`/edit_machine/${row.key}`}><span className=\"fas fa-pencil-alt fa-1x text-warning\"/> </Link>\n            </div>\n        </div>\n    )\n}\n\n// action déclenchée lorsqu'on selectionne une ligne\nconst selectRow = {\n    mode: 'radio',\n    clickToSelect: true\n};\n\n// enable list filter\nlet listFilter = {\n    nameFilter: '',\n    zoneFilter: '',\n    adresseFilter: '',\n    statusFilter: '',\n    createdFilter: '',\n    levelFilter: '',\n}\n\nconst selectStatus = [\n    {\n        label: 'tous',\n        value: 'all'\n    },\n    {\n        label: 'disponible',\n        value : true\n    },\n    {\n        label: 'indisponible',\n        value: false\n    }\n]\n\n// header style for datatable\nconst headingStyle = {\n    backgroundColor : '#E5F1FB',\n    color: ''\n}\n\nclass ListMachine extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.ref = firebase.firestore().collection('machines');\n        this.unsubscribe = null;\n        this.state = { \n            machines: [],\n            defaultMachines: [],\n            isFilter: false,\n            formFilter: {\n                date: '',\n                mois: '',\n                heure: '',\n                status: '',\n            },\n            path: [\n                { \n                    label: 'Home',\n                    value: '/dashboard_machine',\n                },\n                { \n                    label: 'Machine',\n                    value: '/list_machine',\n                },\n                { \n                    label: 'Liste',\n                    value: '',\n                }\n            ],\n            isLoading: true,\n        };\n        this._columns = [\n            {\n                dataField: 'key',\n                text: 'ID',\n                hidden: true\n            },\n            {\n                dataField: 'nom',\n                text: 'Nom',\n                headerStyle: headingStyle,\n                /*filter: textFilter({\n                    placeholder: '',\n                    getFilter: (filter) => {\n                        listFilter.nameFilter = filter;\n                    }\n                }),*/\n                sort: true\n            },\n            {\n                dataField: 'zone',\n                text: 'Zone',\n                headerStyle: headingStyle,\n                /*filter: textFilter({\n                    getFilter: (filter) => {\n                        listFilter.zoneFilter = filter;\n                    }\n                }),*/                \n                sort : true\n            },\n            {\n                dataField: 'localite',\n                text: 'Emplacement',\n                headerStyle: headingStyle,\n                /*filter: textFilter({\n                    getFilter: (filter) => {\n                        listFilter.adressFilter = filter;\n                    }\n                }),*/                \n                formatter: LocaliteFormatter,\n                sort: true\n            },\n            {\n                dataField: 'level',\n                text: 'Taux de remplissage',\n                headerStyle: headingStyle,                              \n                /*filter: textFilter({\n                    //withoutEmptyComparatorOption: true,\n                    getFilter: (filter) => {\n                        listFilter.levelFilter = filter;\n                    }\n                }), */               \n                formatter: LevelFormatter,\n                sort: true\n            },\n            {\n                dataField: 'createdAt',\n                text: 'Dernière utilisation',\n                headerStyle: headingStyle,\n                /*filter: dateFilter({\n                    className: 'row',\n                    getFilter(filter) {\n                        listFilter.dateFilter = filter;\n                    }\n                }),*/\n                formatter: DateFormatter,\n                sort: true\n            },\n            {\n                dataField: 'status',\n                text: 'Statut',\n                headerStyle: headingStyle,\n                /*filter: selectFilter({\n                    options: selectStatus,\n                    style: {\n                      backgroundColor: ''\n                    },\n                    className: 'test-classname',\n                    datamycustomattr: 'datamycustomattr'\n                }),*/                \n                formatter: StatusFormatter,\n                sort: true\n            },\n            {\n                dataField:'option',\n                text: 'Option',\n                headerStyle: headingStyle,\n                isDummyField: true,\n                formatter: OptionFormatter\n            }\n        ];   \n    }\n    \n    /* 1. connect directly to firestore /\n    onCollectionUpdate = (querySnapshot) => {\n        const machines = [];\n        querySnapshot.forEach((doc) => {\n          const { nom, zone, r_modele, level, localite, created, status } = doc.data();\n          /* remplir le tableau /\n          machines.push({\n            key: doc.id,\n            doc, // DocumentSnapshot\n            nom,\n            zone,\n            localite,\n            level,\n            created,\n            status,\n          });\n        });\n        this.setState({\n          defaultMachines: machines,\n          machines: machines, \n          isLoading: false,\n       });\n       console.log(this.state.defaultMachines)\n    }\n    */\n    \n    componentDidMount() {\n        //this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n        \n        axios.get(url_machines)\n        .then(res => {\n            const machines = res.data.data.machines\n            console.log(machines);\n            this.setState({\n                defaultMachines: machines,\n                machines: machines, \n                isLoading: false,\n            })\n            console.log(this.state.defaultMachines);\n        })\n        .catch((error) => {\n            console.log(\"get machine failed!\")\n            console.log(error)\n        })\n    }\n\n    // form for filtering date\n    onChangeDay = (day) => {\n        this.setState({\n            formFilter: {\n                date: day\n            }\n        });\n        const testDate = (day.toDate()).toUTCString()\n        const testok = this.state.machines[0].created\n        console.log(testok)\n        \n    }\n    \n    onChangeMonth = (month) => {\n        this.setState({\n            formFilter: {\n                mois: month\n            }\n        });\n    }\n\n    //form for other filter type\n    onChangeStatus = event => {\n        const input = event.target;\n        const form = input.form;\n        const value = input.type === 'checkbox' ? input.checked : input.value;\n\n        this.setState({\n            [form.name]: {\n                ...this.state[form.name],\n                [input.name]: value\n            }\n        })\n    };    \n\n    allowFilter = e => {\n        console.log(this.state.formFilter);\n        let machines = []\n\n        // status filter\n        const status = selectStatus.find(status => status.label == this.state.formFilter.status)\n        console.log(status.value)\n\n        switch (status.value) {\n            case true:\n                machines = this.state.defaultMachines.filter(machine => machine.status == true)\n                break;\n            case false:\n                machines = this.state.defaultMachines.filter(machine => machine.status == false)\n                break;\n            case 'all':\n                machines = this.state.defaultMachines\n            default:\n                console.log('default')\n        }\n        this.setState({\n            machines: machines,\n            isFilter: true\n        })\n        console.log(machines)\n    }\n\n    //clear filter\n    clearFilter = e => {\n        const original = this.state.defaultMachines\n        this.setState({\n            machines: original,\n            isFilter: false,\n            formFilter: {\n                date: '',\n                mois: '',\n                heure: '',\n                status: selectStatus[0],\n            },                \n        })\n    }\n    \n    render() {\n        const options = {\n            custom: true,\n            paginationSize: 4,\n            pageStartIndex: 1,\n            sizePerPage: 4,\n            firstPageText: 'First',\n            prePageText: 'Back',\n            nextPageText: 'Next',\n            lastPageText: 'Last',\n            nextPageTitle: 'First page',\n            prePageTitle: 'Pre page',\n            firstPageTitle: 'Next page',\n            lastPageTitle: 'Last page',\n            showTotal: true,\n            paginationTotalRenderer: customTotal,\n            sizePerPageList: [\n            {\n                text: '2', value: 2\n            }, \n            {\n                text: '5', value: 5\n            }, \n            {\n                text: 'All',\n                value: this.state.machines.length\n            }],\n            totalSize: this.state.machines.length\n        };\n        const isLoading = this.state.isLoading;\n        const isFilter = this.state.isFilter;\n        console.log(isFilter)\n\n        //filter date attribute\n        const day = this.state.formFilter.date\n        const month = this.state.formFilter.mois\n        const hour = this.state.formFilter.heure;\n        const labelStatus = this.state.formFilter.status\n\n\n        const contentTable = ({ paginationProps, paginationTableProps }) => (\n            <div>\n              <ToolkitProvider\n                keyField=\"key\"\n                columns={ this._columns }\n                data={ this.state.machines }\n                search           \n                >\n                {\n                  toolkitprops => (\n                    <div>\n                        <Row>\n                            <div className=\"col-xl-3 ml-auto\">\n                                    {/*add icon */}\n                                    <Link to={`/add_machine/`} title=\"Editer la GreenBox\" className=\"d-flex col-xl-7 ml-auto pr-3\">\n                                        <Button color=\"success\"> Ajouter </Button>\n                                    </Link>\n                            </div>\n                        </Row>\n                        {/*Fitre et barre de recherche */}\n                        <Row>\n                            {/*filtre */}\n                            <div className=\"col-xl-7\">\n                                <Form \n                                name=\"formFilter\" \n                                >\n                                    <div className=\"row\">\n                                        <div className=\"ml-3 d-flex\">\n                                            <em className=\"m-0 fas fa-filter fa-2x text-success align-self-center\"/>\n                                            {/*<em> Filtrer vos données ici </em>*/}\n                                        </div>\n                                        {/*date */}\n                                        <FormGroup className=\"col-xl-3\">\n                                            <div className=\"pl-2 mr-2\">\n                                                <label className=\"text-bold\">Date</label>\n                                                <Datetime \n                                                inputProps={{className: 'form-control'}}\n                                                defaultValue={day}\n                                                value={day}\n                                                onChange={this.onChangeDay}\n                                                />\n                                            </div>\n                                        </FormGroup>\n                                        {/*month */}\n                                        <FormGroup className=\"col-xl-3\">\n                                            <div className=\"pl-2 mr-2\">\n                                                <label className=\"text-bold\"> Mois </label>\n                                                <Datetime \n                                                inputProps={{className: 'form-control'}}\n                                                timeFormat={false}\n                                                defaultValue={month}\n                                                value={month}\n                                                dateFormat=\"YYYY-MM\" \n                                                onChange={this.onChangeMonth}\n                                                />\n                                            </div>\n                                        </FormGroup>\n                                        {/*status */}\n                                        <FormGroup className=\"col-xl-3\">\n                                            <div className=\"pl-2 mr-2\">\n                                                <label className=\"text-bold\"> Status </label>\n                                                <Input \n                                                type=\"select\"\n                                                name=\"status\" \n                                                placeholder=\"etat de la machine\" \n                                                onChange={this.onChangeStatus}\n                                                value={labelStatus}\n                                                >\n                                                    {selectStatus.map((status) =>\n                                                        <option> {status.label} </option>\n                                                    )}\n                                                </Input>\n                                            </div>\n                                        </FormGroup>\n                                        {isFilter? (\n                                        <div className=\"row pl-4 d-flex align-items-center\">\n                                            <span className=\"fas fa-minus-square text-inverse fa-2x mr-2\" onClick={this.clearFilter}/>\n                                            <p> Effacer </p>\n                                        </div>\n                                        ):(\n                                        <div className=\"row pl-4 d-flex align-items-center\">\n                                            <span className=\"fas fa-check-square text-success fa-2x mr-2\" onClick={this.allowFilter}/>\n                                            <p className=\"align-self-center\"> Appliquer </p>\n                                        </div>\n                                    \n                                        )}\n                                    </div>\n                                </Form>\n                            </div>                                        \n                            {/*search bar */}\n                            <div className=\"col-xl-4 align-self-center ml-auto\">\n                                <div className=\"media\">\n                                    <div className=\"media-body\">\n                                        <SearchBar \n                                            { ...toolkitprops.searchProps }\n                                            className=\"custome-search-field\"\n                                            style={ { color: 'dark' } }\n                                            placeholder=\"Rechercher un nom, une zone, un niveau de remplissage\"                    \n                                        />\n                                    </div>\n                                    <div className=\"align-self-start mr-2\">\n                                        <em className=\"fas fa-search fa-2x \"></em>\n                                    </div>\n                                </div>\n                            </div>\n                        </Row>\n                        {/*table */}\n                        <Card className=\"m-20\">\n                            <CardBody className=\"ml-5 mr-5\">\n                                <BootstrapTable\n                                bootstrap4\n                                hover\n                                filter={filterFactory()}\n                                selectRow={selectRow}\n                                { ...toolkitprops.baseProps }\n                                { ...paginationTableProps }\n                                />\n                            </CardBody>\n                            <CardFooter>\n                                \n                            </CardFooter>\n                        </Card>\n                        {/*Print or export */}\n                        <div className=\"col\">\n                            <div className=\"media m-10\">\n                                {/*export icon */}\n                                <ExportCSVButton { ...toolkitprops.csvProps } className=\"d-flex p-0 mr-5\" >\n                                    <Button color=\"secondary\">\n                                        <em className=\"fas fa-share text-info\"></em>\n                                    </Button>                          \n                                    <em className=\"align-self-center text-dark text-bold\">  Exporter au format CSV </em>\n                                </ExportCSVButton>\n                                {/*print icon */}\n                                <Link to=\"\" title=\"Imprimer la liste\" className=\"d-flex mr-3\">\n                                    <Button color=\"secondary\">\n                                        <em className=\"fa fa-print text-purple \"></em>\n                                    </Button>                                \n                                    <em className=\"align-self-center text-dark text-bold\">  Imprimer la liste </em>\n                                </Link>\n                                <div className=\"col-xl-3\">\n                                    .\n                                </div>\n                                {/*updated date */}\n                                <div className=\"col-xl-1 ml-auto p-0\">\n                                    <small className=\"mb-0 mt-1 text-dark\">Mis à jour le : 04/05/21 14:24:18</small>\n                                </div>\n                            </div>\n                        </div>                        \n                    </div>\n                  )\n                }\n              </ToolkitProvider>\n                    {/*pagination list */}\n                        <div className=\"ml-auto col-xl-3\">\n                            <PaginationListStandalone { ...paginationProps } />\n                        </div>\n                    </div>\n        );\n        \n        const customTotal = (from, to, size) => (\n            <span className=\"react-bootstrap-table-pagination-total\">\n              Showing { from } to { to } of { size } Results\n            </span>\n        );\n        \n        return  (\n            isLoading? (\n                <PageLoader/>\n            ):(\n                <ContentWrapper>\n                    <HeadingMenu path = {this.state.path}/>\n                    <PaginationProvider pagination={paginationFactory(options)}>\n                        { contentTable }\n                    </PaginationProvider>\n                </ContentWrapper>\n            )\n\n\n        )\n    }\n}\n\nexport default ListMachine;\n\n\n"],"sourceRoot":""}