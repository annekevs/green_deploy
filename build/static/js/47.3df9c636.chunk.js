(this.webpackJsonpgreen=this.webpackJsonpgreen||[]).push([[47],{412:function(e,t,n){"use strict";n(3);var s=n(0),a=function(e){return Object(s.jsx)("div",{className:"content-wrapper",children:e.unwrap?Object(s.jsx)("div",{className:"unwrap",children:e.children}):e.children})};a.defaultProps={unwrap:!1},t.a=a},998:function(e,t,n){"use strict";n.r(t);var s=n(14),a=n(17),c=n(16),r=n(15),i=n(3),o=n(412),l=(n(439),n(999)),u=n(980),d=n.n(u),b=n(149),h=n(0),m=function(e){return e.value?Object(h.jsx)("div",{className:"fas fa-check text-success","data-title":"normal"}):Object(h.jsx)("div",{className:"circle circle-lg bg-danger","data-title":"normal"})},j=function(e){return new Date(e.value).toString()},f=function(e){return Object(h.jsx)("div",{className:"checkbox c-checkbox",children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox"}),Object(h.jsx)("span",{className:"fa fa-check-circle"})]})})},p=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e,a){var c;return Object(s.a)(this,n),(c=t.call(this,e,a)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var n=e.data(),s=n.machine,a=n.type,c=n.severite,r=n.date,i=n.description,o=n.motif,l=n.vu;t.push({key:e.id,doc:e,machine:s,type:a,severite:c,date:r,description:i,motif:o,vu:l})})),c.setState({alertes:t,rows:t.slice(0)})},c.rowGetter=function(e){return c.state.rows[e]},c.handleGridSort=function(e,t){var n="NONE"===t?c.state.alertes.slice(0):c.state.rows.sort((function(n,s){return"ASC"===t?n[e]>s[e]?1:-1:"DESC"===t?n[e]<s[e]?1:-1:void 0}));c.setState({rows:n})},c.ref=b.a.firestore().collection("alertes"),c.unsubscribe=null,c._columns=[{key:"machine",name:"Machine",width:70,sortable:!0},{key:"type",name:"Type",width:110},{key:"severite",name:"Severite",sortable:!0},{key:"date",name:"Date",formatter:j,sortable:!0},{key:"description",name:"Description",sortable:!0},{key:"motif",name:"Motif",sortable:!0},{key:"vu",name:"Vu",width:50,formatter:m,sortable:!0},{key:"option",name:"Option",formatter:f,sortable:!0}],c.state={alertes:[],rows:[]},c}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate)}},{key:"render",value:function(){return Object(h.jsxs)(o.a,{children:[Object(h.jsx)("div",{className:"content-heading",children:"Liste des alertes "}),Object(h.jsxs)("div",{className:"mb-3 d-flex",children:[Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:"mb-0 mt-1",children:"Derni\xe8re modification : 04/05/21 14:24:18"})}),Object(h.jsxs)("div",{className:"ml-auto",children:[Object(h.jsx)("button",{className:"btn btn-sm btn-secondary",type:"button",children:Object(h.jsx)("em",{className:"fas fa-share"})}),Object(h.jsx)("button",{className:"btn btn-sm btn-secondary",type:"button",children:Object(h.jsx)("em",{className:"fa fa-print"})})]})]}),Object(h.jsx)(l.a,{fluid:!0,children:Object(h.jsx)(d.a,{onGridSort:this.handleGridSort,columns:this._columns,rowGetter:this.rowGetter,rowsCount:this.state.rows.length})})]})}}]),n}(i.Component);t.default=p}}]);
//# sourceMappingURL=47.3df9c636.chunk.js.map