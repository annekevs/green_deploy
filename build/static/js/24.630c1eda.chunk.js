(this.webpackJsonpgreen=this.webpackJsonpgreen||[]).push([[24],{409:function(e,t,a){"use strict";a(3);var s=a(0),n=function(e){return Object(s.jsx)("div",{className:"content-wrapper",children:e.unwrap?Object(s.jsx)("div",{className:"unwrap",children:e.children}):e.children})};n.defaultProps={unwrap:!1},t.a=n},414:function(e,t,a){"use strict";var s=a(14),n=a(17),i=a(16),l=a(15),c=a(3),r=a(22),o=a(0),d=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props.path;return Object(o.jsx)("div",{className:"content-heading",children:Object(o.jsx)("ol",{className:"breadcrumb",children:e.map((function(e){return""==e.value?Object(o.jsxs)("li",{className:"breadcrumb-item active",children:[" ",e.label," "]}):Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)(r.b,{to:e.value,title:e.label,children:e.label})})}))})})}}]),a}(c.Component);t.a=d},428:function(e,t,a){"use strict";var s=a(8),n=a(11),i=a(25),l=a(12),c=a(3),r=a.n(c),o=a(4),d=a.n(o),b=a(20),u=a.n(b),j=a(5),h={children:d.a.node,inline:d.a.bool,tag:j.l,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),className:d.a.string,cssModule:d.a.object},m=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(i.a)(a)),a.submit=a.submit.bind(Object(i.a)(a)),a}Object(l.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,i=e.inline,l=e.tag,c=e.innerRef,o=Object(n.a)(e,["className","cssModule","inline","tag","innerRef"]),d=Object(j.i)(u()(t,!!i&&"form-inline"),a);return r.a.createElement(l,Object(s.a)({},o,{ref:c,className:d}))},t}(c.Component);m.propTypes=h,m.defaultProps={tag:"form"},t.a=m},429:function(e,t,a){"use strict";var s=a(8),n=a(11),i=a(3),l=a.n(i),c=a(4),r=a.n(c),o=a(20),d=a.n(o),b=a(5),u={children:r.a.node,row:r.a.bool,check:r.a.bool,inline:r.a.bool,disabled:r.a.bool,tag:b.l,className:r.a.string,cssModule:r.a.object},j=function(e){var t=e.className,a=e.cssModule,i=e.row,c=e.disabled,r=e.check,o=e.inline,u=e.tag,j=Object(n.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),h=Object(b.i)(d()(t,!!i&&"row",r?"form-check":"form-group",!(!r||!o)&&"form-check-inline",!(!r||!c)&&"disabled"),a);return"fieldset"===u&&(j.disabled=c),l.a.createElement(u,Object(s.a)({},j,{className:h}))};j.propTypes=u,j.defaultProps={tag:"div"},t.a=j},479:function(e,t,a){"use strict";var s=a(8),n=a(11),i=a(25),l=a(12),c=a(3),r=a.n(c),o=a(4),d=a.n(o),b=a(20),u=a.n(b),j=a(5),h={children:d.a.node,type:d.a.string,size:d.a.oneOfType([d.a.number,d.a.string]),bsSize:d.a.string,valid:d.a.bool,invalid:d.a.bool,tag:j.l,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),plaintext:d.a.bool,addon:d.a.bool,className:d.a.string,cssModule:d.a.object},m=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(i.a)(a)),a.focus=a.focus.bind(Object(i.a)(a)),a}Object(l.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,i=e.type,l=e.bsSize,c=e.valid,o=e.invalid,d=e.tag,b=e.addon,h=e.plaintext,m=e.innerRef,f=Object(n.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),p=["radio","checkbox"].indexOf(i)>-1,x=new RegExp("\\D","g"),O=d||("select"===i||"textarea"===i?i:"input"),v="form-control";h?(v+="-plaintext",O=d||"input"):"file"===i?v+="-file":"range"===i?v+="-range":p&&(v=b?null:"form-check-input"),f.size&&x.test(f.size)&&(Object(j.o)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),l=f.size,delete f.size);var g=Object(j.i)(u()(t,o&&"is-invalid",c&&"is-valid",!!l&&"form-control-"+l,v),a);return("input"===O||d&&"function"===typeof d)&&(f.type=i),f.children&&!h&&"select"!==i&&"string"===typeof O&&"select"!==O&&(Object(j.o)('Input with a type of "'+i+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete f.children),r.a.createElement(O,Object(s.a)({},f,{ref:m,className:g,"aria-invalid":o}))},t}(r.a.Component);m.propTypes=h,m.defaultProps={type:"text"},t.a=m},667:function(e,t,a){"use strict";a.r(t);var s=a(36),n=a(47),i=a(14),l=a(17),c=a(16),r=a(15),o=a(3),d=a(22),b=a(147),u=a(145),j=a.n(u),h=a(146),m=a(463),f=a.n(m),p=(a(435),a(409)),x=a(424),O=a(416),v=a(428),g=a(429),N=a(479),y=a(417),S=a(419),F=a(446),P=a(199),k=a(457),T=a.n(k),R=a(465),w=a.n(R),C=a(464),z=a.n(C),M=a(468),D=a.n(M),_=a(414),E=a(0),V=M.Search.SearchBar,I=M.CSVExport.ExportCSVButton;function L(e,t){var a=new Object(t.localite),s=a.lieu,n=(a.pays,a.quartier);a.ville;return Object(E.jsxs)("address",{children:[Object(E.jsxs)("span",{children:[" ",n," "]}),Object(E.jsx)("br",{}),Object(E.jsxs)("small",{className:"text-italic",children:[" ",s," "]})]})}function A(e,t){var a=new Date(t.date),s=a.toUTCString();return console.log(a),Object(E.jsxs)("span",{children:[" ",s," "]})}function B(e,t){return 0==t.level?Object(E.jsx)(x.a,{color:"gray-light",value:"100",children:" 0% "}):t.level<70?Object(E.jsxs)(x.a,{color:"success",value:e,children:[" ",e,"% "]}):t.level<85?Object(E.jsxs)(x.a,{color:"warning",value:e,children:[" ",e,"% "]}):Object(E.jsxs)(x.a,{color:"danger",value:e,children:[" ",e,"% "]})}function Y(e,t,a){return Object(E.jsx)("div",{className:"md-6 row ",children:Object(E.jsx)("div",{className:"pl-3 pr-3",children:Object(E.jsxs)(d.b,{to:"/indisponible",children:[Object(E.jsx)("span",{className:"fas fa-info-circle fa-2x text-info"})," "]})})})}var J={mode:"radio",clickToSelect:!0},Q=[{label:"tous",value:"all"},{label:"disponible",value:!0},{label:"indisponible",value:!1}],U={backgroundColor:"#E5F1FB",color:""},q=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e,l){var c;return Object(i.a)(this,a),(c=t.call(this,e,l)).getActivite=function(){var e=[];j.a.get(h.a).then((function(t){t.data.data.map((function(e){var t=e.machine,a=(e.ticket,e.info),s=(e.type,e.date,t.key);t.nom,t.localite;console.log(s);a.nb_dechets,a.nb_bte,a.nb_intrus,a.level})),c.setState({activites:e}),console.log(c.state.activites)}))},c.onChangeDay=function(e){c.setState({formFilter:{date:e}})},c.onChangeMonth=function(e){c.setState({formFilter:{mois:e}})},c.onChange=function(e){var t=e.target,a=t.form,i="checkbox"===t.type?t.checked:t.value;c.setState(Object(s.a)({},a.name,Object(n.a)(Object(n.a)({},c.state[a.name]),{},Object(s.a)({},t.name,i))))},c.onSubmit=function(e){console.log("Form submitted.."),console.log(c.state.formFilter),e.preventDefault()},c.ref=b.a.firestore().collection("activites"),c.unsubscribe=null,c.state={activites:[],machines:[],isFilter:!1,formFilter:{date:"",mois:"",heure:""},path:[{label:"Home",value:"/dashboard_machine"},{label:"Activite",value:"/list_activite"},{label:"Liste",value:""}]},c._columns=[{dataField:"key",text:"ID",hidden:!0},{dataField:"nom",text:"Nom",headerStyle:U,sort:!0},{dataField:"localite",text:"Emplacement",headerStyle:U,formatter:L,sort:!0},{dataField:"nb_dechets",text:"Total",headerStyle:U,sort:!0},{dataField:"nb_intrus",text:"Quantite intrus",headerStyle:U,sort:!0},{dataField:"nb_bte",text:"Quantite de bouteilles",headerStyle:U,sort:!0},{dataField:"ticket",text:"Ticket",headerStyle:U,hidden:!0,sort:!0},{dataField:"level",text:"Taux de remplissage",headerStyle:U,formatter:B,sort:!0},{dataField:"date",text:"Date",headerStyle:U,formatter:A,sort:!0},{dataField:"option",text:"Option",headerStyle:U,isDummyField:!0,formatter:Y}],c}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate),this.getActivite()}},{key:"render",value:function(){var e=this,t={custom:!0,paginationSize:4,pageStartIndex:1,sizePerPage:4,firstPageText:"First",prePageText:"Back",nextPageText:"Next",lastPageText:"Last",nextPageTitle:"First page",prePageTitle:"Pre page",firstPageTitle:"Next page",lastPageTitle:"Last page",showTotal:!0,paginationTotalRenderer:i,sizePerPageList:[{text:"2",value:2},{text:"5",value:5},{text:"All",value:this.state.activites.length}],totalSize:this.state.activites.length};console.log(this.state.activites);var a=this.state.formFilter.date,s=this.state.formFilter.mois;this.state.formFilter.heure;console.log(this.state.isFilter);var i=function(e,t,a){return Object(E.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:["Showing ",e," to ",t," of ",a," Results"]})};return Object(E.jsxs)(p.a,{children:[Object(E.jsx)(_.a,{path:this.state.path}),Object(E.jsx)(R.PaginationProvider,{pagination:w()(t),children:function(t){var i=t.paginationProps,l=t.paginationTableProps;return Object(E.jsxs)("div",{children:[Object(E.jsx)(D.a,{keyField:"key",columns:e._columns,data:e.state.activites,search:!0,children:function(t){return Object(E.jsxs)("div",{children:[Object(E.jsxs)(O.a,{children:[Object(E.jsx)("div",{className:"col-xl-7",children:Object(E.jsx)(v.a,{name:"formFilter",onSubmit:e.onSubmit,children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"ml-3 d-flex",children:Object(E.jsx)("em",{className:"m-0 fas fa-filter fa-2x text-success align-self-center"})}),Object(E.jsx)(g.a,{children:Object(E.jsxs)("div",{className:"pl-3 mr-3",children:[Object(E.jsx)("label",{className:"text-bold",children:"Date"}),Object(E.jsx)(f.a,{inputProps:{className:"form-control"},defaultValue:a,value:a,onChange:e.onChangeDay})]})}),Object(E.jsx)(g.a,{children:Object(E.jsxs)("div",{className:"pl-3 mr-3",children:[Object(E.jsx)("label",{className:"text-bold",children:" Mois "}),Object(E.jsx)(f.a,{inputProps:{className:"form-control"},timeFormat:!1,defaultValue:s,value:s,dateFormat:"YYYY-MM",onChange:e.onChangeMonth})]})}),Object(E.jsx)(g.a,{children:Object(E.jsxs)("div",{className:"pl-3 mr-3",children:[Object(E.jsx)("label",{className:"text-bold",children:" Status "}),Object(E.jsx)(N.a,{type:"select",name:"status",placeholder:"etat de la machine",onChange:e.onChange,value:status.label,children:Q.map((function(e){return Object(E.jsxs)("option",{children:[" ",e.label," "]})}))})]})})]})})}),Object(E.jsx)("div",{className:"col-xl-5 align-self-center",children:Object(E.jsxs)("div",{className:"media",children:[Object(E.jsx)("div",{className:"media-body",children:Object(E.jsx)(V,Object(n.a)(Object(n.a)({},t.searchProps),{},{className:"custome-search-field",style:{color:"dark"},placeholder:"Rechercher un nom, une zone, un niveau de remplissage"}))}),Object(E.jsx)("div",{className:"align-self-start mr-2",children:Object(E.jsx)("em",{className:"fas fa-search fa-2x "})})]})})]}),Object(E.jsx)("div",{className:"col-xl-3 ml-auto"}),Object(E.jsxs)(y.a,{className:"m-20",children:[Object(E.jsx)(S.a,{className:"ml-5 mr-5",children:Object(E.jsx)(T.a,Object(n.a)(Object(n.a)({bootstrap4:!0,hover:!0,filter:z()(),selectRow:J},t.baseProps),l))}),Object(E.jsx)(F.a,{})]}),Object(E.jsx)("div",{className:"col",children:Object(E.jsxs)("div",{className:"media m-10",children:[Object(E.jsxs)(I,Object(n.a)(Object(n.a)({},t.csvProps),{},{className:"d-flex p-0 mr-5",children:[Object(E.jsx)(P.a,{color:"secondary",children:Object(E.jsx)("em",{className:"fas fa-share text-info"})}),Object(E.jsx)("em",{className:"align-self-center text-dark text-bold",children:"  Exporter au format CSV "})]})),Object(E.jsxs)(d.b,{to:"",title:"Imprimer la liste",className:"d-flex mr-3",children:[Object(E.jsx)(P.a,{color:"secondary",children:Object(E.jsx)("em",{className:"fa fa-print text-purple "})}),Object(E.jsx)("em",{className:"align-self-center text-dark text-bold",children:"  Imprimer la liste "})]}),Object(E.jsx)("div",{className:"col-xl-3",children:"."}),Object(E.jsx)("div",{className:"col-xl-1 ml-auto p-0",children:Object(E.jsx)("small",{className:"mb-0 mt-1 text-dark",children:"Mis \xe0 jour le : 04/05/21 14:24:18"})})]})})]})}}),Object(E.jsx)("div",{className:"ml-auto col-xl-3",children:Object(E.jsx)(R.PaginationListStandalone,Object(n.a)({},i))})]})}})]})}}]),a}(o.Component);t.default=q}}]);
//# sourceMappingURL=24.630c1eda.chunk.js.map