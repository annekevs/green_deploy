(this.webpackJsonpgreen=this.webpackJsonpgreen||[]).push([[17],{409:function(e,t,s){"use strict";s(3);var c=s(0),a=function(e){return Object(c.jsx)("div",{className:"content-wrapper",children:e.unwrap?Object(c.jsx)("div",{className:"unwrap",children:e.children}):e.children})};a.defaultProps={unwrap:!1},t.a=a},414:function(e,t,s){"use strict";var c=s(14),a=s(17),l=s(16),n=s(15),i=s(3),r=s(22),o=s(0),d=function(e){Object(l.a)(s,e);var t=Object(n.a)(s);function s(e){return Object(c.a)(this,s),t.call(this,e)}return Object(a.a)(s,[{key:"render",value:function(){var e=this.props.path;return Object(o.jsx)("div",{className:"content-heading",children:Object(o.jsx)("ol",{className:"breadcrumb",children:e.map((function(e){return""==e.value?Object(o.jsxs)("li",{className:"breadcrumb-item active",children:[" ",e.label," "]}):Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)(r.b,{to:e.value,title:e.label,children:e.label})})}))})})}}]),s}(i.Component);t.a=d},416:function(e,t,s){"use strict";var c=s(8),a=s(11),l=s(3),n=s.n(l),i=s(4),r=s.n(i),o=s(20),d=s.n(o),m=s(5),j=r.a.oneOfType([r.a.number,r.a.string]),h={tag:m.l,noGutters:r.a.bool,className:r.a.string,cssModule:r.a.object,form:r.a.bool,xs:j,sm:j,md:j,lg:j,xl:j},b={tag:"div",widths:["xs","sm","md","lg","xl"]},u=function(e){var t=e.className,s=e.cssModule,l=e.noGutters,i=e.tag,r=e.form,o=e.widths,j=Object(a.a)(e,["className","cssModule","noGutters","tag","form","widths"]),h=[];o.forEach((function(t,s){var c=e[t];if(delete j[t],c){var a=!s;h.push(a?"row-cols-"+c:"row-cols-"+t+"-"+c)}}));var b=Object(m.i)(d()(t,l?"no-gutters":null,r?"form-row":"row",h),s);return n.a.createElement(i,Object(c.a)({},j,{className:b}))};u.propTypes=h,u.defaultProps=b,t.a=u},418:function(e,t,s){"use strict";var c=s(8),a=s(11),l=s(3),n=s.n(l),i=s(4),r=s.n(i),o=s(20),d=s.n(o),m=s(5),j=r.a.oneOfType([r.a.number,r.a.string]),h=r.a.oneOfType([r.a.bool,r.a.number,r.a.string,r.a.shape({size:r.a.oneOfType([r.a.bool,r.a.number,r.a.string]),order:j,offset:j})]),b={tag:m.l,xs:h,sm:h,md:h,lg:h,xl:h,className:r.a.string,cssModule:r.a.object,widths:r.a.array},u={tag:"div",widths:["xs","sm","md","lg","xl"]},x=function(e,t,s){return!0===s||""===s?e?"col":"col-"+t:"auto"===s?e?"col-auto":"col-"+t+"-auto":e?"col-"+s:"col-"+t+"-"+s},f=function(e){var t=e.className,s=e.cssModule,l=e.widths,i=e.tag,r=Object(a.a)(e,["className","cssModule","widths","tag"]),o=[];l.forEach((function(t,c){var a=e[t];if(delete r[t],a||""===a){var l=!c;if(Object(m.g)(a)){var n,i=l?"-":"-"+t+"-",j=x(l,t,a.size);o.push(Object(m.i)(d()(((n={})[j]=a.size||""===a.size,n["order"+i+a.order]=a.order||0===a.order,n["offset"+i+a.offset]=a.offset||0===a.offset,n)),s))}else{var h=x(l,t,a);o.push(h)}}})),o.length||o.push("col");var j=Object(m.i)(d()(t,o),s);return n.a.createElement(i,Object(c.a)({},r,{className:j}))};f.propTypes=b,f.defaultProps=u,t.a=f},425:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var c="AIzaSyB2gRtnm_h3PmxB6ZhZ1ZBpvwAYiQheb1Y"},445:function(e,t,s){"use strict";s.r(t);var c=s(14),a=s(17),l=s(16),n=s(15),i=s(3),r=s(409),o=s(417),d=s(419),m=s(446),j=s(433),h=s(425),b=s(0),u=function(e){return Object(b.jsx)(j.e,{position:e.position,onClick:e.onClick},e.key)},x=function(e){console.log(e);return e.customMarkers.length?Object(b.jsx)(j.c,{mapContainerStyle:e.containerStyle,zoom:e.zoom,center:e.center,children:e.customMarkers.map((function(t){return Object(b.jsx)(u,{position:t.value,onClick:e.onClick},t.key)}))}):Object(b.jsx)(j.c,{mapContainerStyle:e.containerStyle,zoom:e.zoom,center:e.center})},f=function(e){Object(l.a)(s,e);var t=Object(n.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).onResize=a.props.onResize,a.state={center:{},customStyle:[{featureType:"water",stylers:[{visibility:"on"},{color:"#bdd1f9"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#334165"}]},{featureType:"landscape",stylers:[{color:"#e9ebf1"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fff"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fff"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#d8dbe0"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#cfd5e0"}]},{featureType:"administrative",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{featureType:"road",stylers:[{color:"#d8dbe0",lightness:20}]}]},a}return Object(a.a)(s,[{key:"render",value:function(){var e=this.props.listeMachine,t=[];e.map((function(e){t.push({key:e.key,value:{lat:parseFloat(e.coordonnees.latitude),lng:parseFloat(e.coordonnees.longitude)},nom:e.nom})}));var s=this.props.isSelect,c=this.props.zoom;console.log(this.state.center);var a=t[0].value;s&&(a=this.props.currentMachine.coordonnees),console.log(a);var l=this.props.containerStyle;return Object(b.jsx)(j.d,{googleMapsApiKey:h.a,children:Object(b.jsx)(r.a,{children:Object(b.jsxs)(o.a,{className:"card-default",children:[Object(b.jsx)(d.a,{children:Object(b.jsx)(x,{customMarkers:t,center:a,zoom:c,containerStyle:l,onClick:this.props.onClick})}),Object(b.jsx)(m.a,{className:"ml-auto",children:Object(b.jsx)("span",{className:"fas fa-compress pl-auto text-dark fa-2x",onClick:this.onResize,children:" "})})]})})})}}]),s}(i.Component);t.default=f},455:function(e,t,s){"use strict";var c=s(14),a=s(17),l=s(16),n=s(15),i=s(3),r=s(417),o=s(423),d=s(419),m=s(424),j=s(0),h={label:"d\xe9connect\xe9e",color:"circle circle-lg bg-danger"},b={label:"connect\xe9e",color:"circle circle-lg bg-success"},u=function(e){Object(l.a)(s,e);var t=Object(n.a)(s);function s(e){return Object(c.a)(this,s),t.call(this,e)}return Object(a.a)(s,[{key:"render",value:function(){console.log(this.props.currentMachine);var e=this.props.currentMachine,t=e.nom,s=e.localite,c=e.level,a=e.status,l=e.qte_bte,n=e.modele,i=new Object(n),u=i.libelle,x=i.description,f=new Object(s),O=f.pays,p=f.ville,N=f.quartier,v=f.lieu,g=l,y={};y=a?b:h;var E={levelColor:"danger",value:c};0==c?E={levelColor:"gray-light",value:c}:c<=70||c<=85?E={levelColor:"success",value:c}:console.log(E);var M=y,w=(M.label,M.color),C=E,k=(C.value,C.levelColor);return Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)(r.a,{outline:!0,color:"info",children:[Object(j.jsxs)(o.a,{className:"mr-3 mt-3 bg-gray-light",children:[Object(j.jsx)("div",{className:"float-right row",children:Object(j.jsx)("div",{className:w})}),Object(j.jsx)("h4",{className:"m-0",children:t}),Object(j.jsx)("small",{className:"text-muted"})]}),Object(j.jsxs)(d.a,{children:[Object(j.jsxs)("div",{className:"d-flex align-items-center mb-4 ",children:[Object(j.jsx)("div",{className:"w-100","data-title":"Health",children:0==c?Object(j.jsx)(m.a,{className:"progress-xs m-0",value:100,color:k,children:" "}):Object(j.jsx)(m.a,{className:"progress-xs m-0",value:c,color:k,children:" "})}),Object(j.jsx)("div",{className:"wd-xxs text-right",children:Object(j.jsxs)("div",{className:"text-bold text-muted",children:[c,"%"]})})]}),Object(j.jsxs)("div",{className:"mb-3 mt-3",children:[Object(j.jsxs)("div",{className:"media mb-3 pl-2",children:[Object(j.jsx)("div",{className:"align-self-start mr-2",children:Object(j.jsx)("em",{className:"fas fas fa-map-marker-alt fa-2x"})}),Object(j.jsx)("div",{className:"media-body text-center",children:Object(j.jsxs)("address",{children:[Object(j.jsxs)("strong",{children:[" ",v," "]}),Object(j.jsx)("br",{})," ",N,Object(j.jsx)("br",{}),Object(j.jsxs)("span",{children:[" ",p," - ",O," "]})]})})]}),Object(j.jsxs)("div",{className:"media mb-4 pl-2",children:[Object(j.jsx)("div",{className:"align-self-start mr-2",children:Object(j.jsx)("em",{className:"fas fa-box fa-2x"})}),Object(j.jsxs)("div",{className:"media-body text-center",children:[Object(j.jsxs)("span",{children:[" ",u," "]}),Object(j.jsx)("br",{}),Object(j.jsxs)("span",{className:"pl-3",children:[" ",x," "]})]})]}),Object(j.jsx)("label",{className:"mr-3 pl-1 mb-3",children:"Ajourdh'ui..."}),Object(j.jsxs)("div",{className:"media mb-4",children:[Object(j.jsx)("div",{className:"align-self-center mr-2",children:Object(j.jsx)("em",{className:"fas fas fa-check fa-2x text-success"})}),Object(j.jsxs)("div",{className:"media-body text-center",children:[Object(j.jsx)("h4",{className:"mt-0 text-bold",children:g}),g<=1?Object(j.jsx)("p",{className:"mb-0 text-muted",children:"BOUTEILLE COLLECTEE "}):Object(j.jsx)("p",{className:"mb-0 text-muted",children:"BOUTEILLES COLLECTEES"})]})]}),Object(j.jsxs)("div",{hidden:!0,className:"media mt-4 mb-3",children:[Object(j.jsx)("div",{className:"align-self-center mr-2",children:Object(j.jsx)("em",{className:"fas fas fa-check fa-2x text-success"})}),Object(j.jsxs)("div",{className:"media-body text-center",children:[Object(j.jsx)("h4",{className:"mt-0 text-bold",children:18}),Object(j.jsx)("p",{className:"mb-0 text-muted text-bold",children:"TICKETS IMPRIMES"})]})]})]})]})]})})}}]),s}(i.Component);t.a=u},687:function(e,t,s){"use strict";s.r(t);var c=s(14),a=s(17),l=s(16),n=s(15),i=s(3),r=s(145),o=s.n(r),d=s(22),m=s(405),j=s(409),h=s(0),b=function(e){Object(l.a)(s,e);var t=Object(n.a)(s);function s(){var e;Object(c.a)(this,s);for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return(e=t.call.apply(t,[this].concat(l))).toggleTab=function(t){e.state.activeTab!==t&&e.setState({activeTab:t})},e.machinesPleines=e.props.machinesPleines,e.machinesDown=e.props.machinesDown,e.machines=e.props.machines,e}return Object(a.a)(s,[{key:"render",value:function(){var e=this.props.chiffres.nb_machines,t=this.props.chiffres.nb_pleines,s=this.props.chiffres.nb_down,c=this.props.chiffres.nb_bte;return Object(h.jsx)(j.a,{children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-xl-3",onClick:this.machinesPleines,children:Object(h.jsx)("div",{className:"card border-0",children:Object(h.jsxs)("div",{className:"row row-flush",children:[Object(h.jsx)("div",{className:"col-4 bg-danger-light text-center d-flex align-items-center justify-content-center rounded-left",children:Object(h.jsx)("em",{className:"fa fa-tasks fa-2x"})}),Object(h.jsx)("div",{className:"col-8",children:Object(h.jsxs)("div",{className:"card-body text-center",children:[Object(h.jsx)("h4",{className:"mt-0",children:t}),0==t||1==t?Object(h.jsx)("p",{className:"mb-0 text-muted",children:"MACHINE PLEINE "}):Object(h.jsx)("p",{className:"mb-0 text-muted",children:"MACHINES PLEINES"})]})})]})})}),Object(h.jsx)("div",{className:"col-xl-3",onClick:this.machinesDown,children:Object(h.jsx)("div",{className:"card border-0",children:Object(h.jsxs)("div",{className:"row row-flush",children:[Object(h.jsx)("div",{className:"col-4 bg-gray-light text-center d-flex align-items-center justify-content-center rounded-left",children:Object(h.jsx)("em",{className:"icon-dislike fa-2x text-danger"})}),Object(h.jsx)("div",{className:"col-8",children:Object(h.jsxs)("div",{className:"card-body text-center",children:[Object(h.jsx)("h4",{className:"mt-0",children:s}),0==s?Object(h.jsx)("p",{className:"mb-0 text-muted",children:"AUCUNE MACHINE DECONNECTEE"}):1==s?Object(h.jsx)("p",{className:"mb-0 text-muted",children:"MACHINE DECONNECTEE"}):Object(h.jsx)("p",{className:"mb-0 text-muted",children:"MACHINES DECONNECTEES"})]})})]})})}),Object(h.jsx)("div",{className:"col-xl-3",children:Object(h.jsx)("div",{className:"card border-0",children:Object(h.jsxs)("div",{className:"row row-flush",children:[Object(h.jsx)("div",{className:"col-4 bg-success-light text-center d-flex align-items-center justify-content-center rounded-left",children:Object(h.jsx)("em",{className:"fas fa-plus fa-2x"})}),Object(h.jsx)("div",{className:"col-8",children:Object(h.jsxs)("div",{className:"card-body text-center",children:[Object(h.jsx)("h4",{className:"mt-0",children:c}),0==c?Object(h.jsx)("p",{className:"mb-0 text-muted",children:"BOUTEILLE COLLECTEE"}):1==c?Object(h.jsx)("p",{className:"mb-0 text-muted",children:"BOUTEILLE COLLECTEE "}):Object(h.jsx)("p",{className:"mb-0 text-muted",children:"BOUTEILLES COLLECTEES"})]})})]})})}),Object(h.jsx)("div",{className:"col-xl-3",onClick:this.machines,children:Object(h.jsx)("div",{className:"card border-0",children:Object(h.jsxs)("div",{className:"row row-flush",children:[Object(h.jsx)("div",{className:"col-4 bg-info-light text-center d-flex align-items-center justify-content-center rounded-left",children:Object(h.jsx)("em",{className:"fab fa-bitbucket fa-2x"})}),Object(h.jsx)("div",{className:"col-8",children:Object(h.jsxs)("div",{className:"card-body text-center",children:[Object(h.jsx)("h4",{className:"mt-0",children:e}),0==e?Object(h.jsx)("p",{className:"mb-0 text-muted",children:"AUCUNE MACHINE "}):1==e?Object(h.jsx)("p",{className:"mb-0 text-muted",children:"MACHINE "}):Object(h.jsx)("p",{className:"mb-0 text-muted",children:"MACHINES"})]})})]})})})]})})}}]),s}(i.Component),u=s(416),x=s(418),f=s(417),O=s(445),p=s(455),N=s(414),v=s(456),g=s.n(v),y=s(146),E={width:"100%",height:"450px"},M=[{label:"Home",value:"/dashboard_machine"}],w=function(e){Object(l.a)(s,e);var t=Object(n.a)(s);function s(e,a){var l;return Object(c.a)(this,s),(l=t.call(this,e,a)).selectMachine=function(e){var t=e.latLng.toJSON(),s=t.lat,c=t.lng,a={latitude:s.toString(),longitude:c.toString()},n=l.state.machines.find((function(e){return g.a.isEqual(e.coordonnees,a)}));l.setState({filter:!0,labelFilter:"Machine selectionn\xe9e",isSelectMachine:!0,selectedMachine:n,zoom:18}),console.log(l.state.selectedMachine)},l.resizeMap=function(){l.setState({filter:!1,labelFilter:"Aucun filtre",isSelectMachine:!1,selectedMachine:{},zoom:10}),console.log(l.state.zoom)},l.machines=function(){l.setState({machines:l.state.defaultMachines,filter:!1,labelFilter:"Toutes les machines"})},l.machinesPleines=function(){if(l.state.filter.plein)return l.machines(),!1;l.state.isSelectMachine&&l.resizeMap();var e=l.state.defaultMachines.filter((function(e){return e.level>=75}));l.setState({machines:e,filter:{plein:!0},labelFilter:"Machines pleines"})},l.machinesDown=function(){if(l.state.filter.indisponible)return l.machines(),!1;l.state.isSelectMachine&&l.resizeMap();var e=l.state.defaultMachines.filter((function(e){return 0==e.status}));l.setState({machines:e,filter:{indisponible:!0},labelFilter:"Machines indisponibles"})},l.state={machines:[],defaultMachines:[],selectedMachine:{},isLoading:!0,isSelectMachine:!1,zoom:10,filter:{plein:!1,indisponible:!1},labelFilter:""},l}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var e=this;o.a.get(y.d).then((function(t){var s=t.data.data.machines;console.log(s),e.setState({machines:s,defaultMachines:s,isLoading:!1})})).catch((function(e){console.log("get machine failed!"),console.log(e)}))}},{key:"render",value:function(){console.log(this.state.zoom);var e,t=this.state.machines,s=this.state.zoom,c=this.state.labelFilter,a=this.state.defaultMachines.filter((function(e){return e.level>=75})),l=this.state.defaultMachines.filter((function(e){return 0==e.status})),n=this.state.defaultMachines.reduce((function(e,t){return e+t.qte_bte}),0),i={nb_machines:this.state.defaultMachines.length,nb_pleines:a.length,nb_down:l.length,nb_bte:n},r=this.state.isLoading,o=this.state.isSelectMachine,m="";return o&&(e=this.state.selectedMachine,m=this.state.selectedMachine.key,console.log(this.state.selectedMachine)),console.log(e),r?Object(h.jsx)("span",{children:" En cours de chargement..."}):Object(h.jsxs)(j.a,{children:[Object(h.jsx)(N.a,{path:M}),Object(h.jsx)(b,{chiffres:i,machinesPleines:this.machinesPleines,machinesDown:this.machinesDown,machines:this.machines}),Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:[" ",c," "]})}),Object(h.jsxs)(u.a,{children:[Object(h.jsx)(x.a,{md:8,children:Object(h.jsx)(O.default,{listeMachine:t,currentMachine:e,isSelect:o,zoom:s,containerStyle:E,onClick:this.selectMachine,onResize:this.resizeMap})}),Object(h.jsx)(x.a,{md:4,children:o?Object(h.jsxs)("div",{className:"row mr-20 col-xl-8",children:[Object(h.jsx)(p.a,{currentMachine:e,isLoading:r,isSelect:o,className:"col-xl-7 pr-4 "}),Object(h.jsx)(f.a,{className:"col-xl-5 ml-auto mr-6",children:Object(h.jsxs)(j.a,{children:[Object(h.jsxs)("div",{className:"col mb-4 ml-auto",children:[Object(h.jsx)("div",{className:"align-self-start mr-2",children:Object(h.jsxs)("span",{className:"fa-stack text-center",children:[Object(h.jsx)("em",{className:"fa fa-circle fa-stack-2x text-purple"}),Object(h.jsx)("em",{className:"fas fa-info fa-stack-1x fa-inverse text-white"})]})}),Object(h.jsx)(d.b,{to:"/show_machine/".concat(m),className:"media-body text-truncate",children:Object(h.jsxs)("p",{className:"mb-1",children:[Object(h.jsx)("a",{className:"text-purple m-0",href:"",children:"Plus d'infos"})," "]})})]}),Object(h.jsxs)("div",{className:"col mb-4",hidden:!0,children:[Object(h.jsx)("div",{className:"align-self-start mr-2",children:Object(h.jsxs)("span",{className:"fa-stack text-center",children:[Object(h.jsx)("em",{className:"fa fa-circle fa-stack-2x text-purple"}),Object(h.jsx)("em",{className:"fab fa-telegram-plane fa-stack-1x fa-inverse text-white"})]})}),Object(h.jsx)("div",{className:"media-body text-truncate",children:Object(h.jsxs)("p",{className:"mb-1",children:[Object(h.jsx)("a",{className:"text-purple m-0",href:"",children:"Obtenir l'itineraire"})," "]})})]}),Object(h.jsxs)("div",{className:"col mb-4 ",hidden:!0,children:[Object(h.jsx)("div",{className:"align-self-start mr-2",children:Object(h.jsxs)("span",{className:"fa-stack text-center",children:[Object(h.jsx)("em",{className:"fa fa-circle fa-stack-2x text-purple"}),Object(h.jsx)("em",{className:"fas fa-chart-bar fa-stack-1x fa-inverse text-white"})]})}),Object(h.jsx)("div",{className:"media-body text-truncate",children:Object(h.jsxs)("p",{className:"mb-1",children:[Object(h.jsx)("a",{className:"text-purple m-0",href:"",children:"Consulter les statistiques"})," "]})})]})]})})]}):Object(h.jsxs)("div",{className:"d-flex rox",children:[Object(h.jsx)(d.b,{to:"/add_machine",children:" Ajouter une GreenBox "}),Object(h.jsx)("span",{className:"align-self-center align-items-center",children:" Selectionner une machine et retrouvez ses informations "}),Object(h.jsx)("img",{src:"img/landing/Server status-rafiki.png",alt:"Fonctionnalite indisponible",width:"400",height:"500"})]})})]})]})}}]),s}(i.Component);t.default=Object(m.a)("translations")(w)}}]);
//# sourceMappingURL=17.87e69de4.chunk.js.map