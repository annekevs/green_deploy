(this.webpackJsonpgreen=this.webpackJsonpgreen||[]).push([[29],{412:function(e,t,a){"use strict";a(3);var s=a(0),l=function(e){return Object(s.jsx)("div",{className:"content-wrapper",children:e.unwrap?Object(s.jsx)("div",{className:"unwrap",children:e.children}):e.children})};l.defaultProps={unwrap:!1},t.a=l},430:function(e,t,a){"use strict";var s=a(14),l=a(17),n=a(16),r=a(15),i=a(3),c=a(21),o=a(0),d=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.path;return Object(o.jsx)("div",{className:"content-heading",children:Object(o.jsx)("ol",{className:"breadcrumb",children:e.map((function(e){return""==e.value?Object(o.jsxs)("li",{className:"breadcrumb-item active",children:[" ",e.label," "]}):Object(o.jsx)("li",{className:"breadcrumb-item",children:Object(o.jsx)(c.b,{to:e.value,title:e.label,children:e.label})})}))})})}}]),a}(i.Component);t.a=d},439:function(e,t,a){"use strict";var s=a(8),l=a(70),n=a(11),r=a(3),i=a.n(r),c=a(4),o=a.n(c),d=a(20),b=a.n(d),u=a(5);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={children:o.a.node,bar:o.a.bool,multi:o.a.bool,tag:u.l,value:o.a.oneOfType([o.a.string,o.a.number]),min:o.a.oneOfType([o.a.string,o.a.number]),max:o.a.oneOfType([o.a.string,o.a.number]),animated:o.a.bool,striped:o.a.bool,color:o.a.string,className:o.a.string,barClassName:o.a.string,cssModule:o.a.object,style:o.a.object,barStyle:o.a.object,barAriaValueText:o.a.string,barAriaLabelledBy:o.a.string},p=function(e){var t=e.children,a=e.className,l=e.barClassName,r=e.cssModule,c=e.value,o=e.min,d=e.max,j=e.animated,h=e.striped,p=e.color,f=e.bar,x=e.multi,O=e.tag,v=e.style,g=e.barStyle,y=e.barAriaValueText,N=e.barAriaLabelledBy,S=Object(n.a)(e,["children","className","barClassName","cssModule","value","min","max","animated","striped","color","bar","multi","tag","style","barStyle","barAriaValueText","barAriaLabelledBy"]),P=Object(u.n)(c)/Object(u.n)(d)*100,k=Object(u.i)(b()(a,"progress"),r),F={className:Object(u.i)(b()("progress-bar",f&&a||l,j?"progress-bar-animated":null,p?"bg-"+p:null,h||j?"progress-bar-striped":null),r),style:m(m(m({},f?v:{}),g),{},{width:P+"%"}),role:"progressbar","aria-valuenow":c,"aria-valuemin":o,"aria-valuemax":d,"aria-valuetext":y,"aria-labelledby":N,children:t};return f?i.a.createElement(O,Object(s.a)({},S,F)):i.a.createElement(O,Object(s.a)({},S,{style:v,className:k}),x?t:i.a.createElement("div",F))};p.propTypes=h,p.defaultProps={tag:"div",value:0,min:0,max:100,style:{},barStyle:{}},t.a=p},449:function(e,t,a){"use strict";var s=a(8),l=a(11),n=a(25),r=a(12),i=a(3),c=a.n(i),o=a(4),d=a.n(o),b=a(20),u=a.n(b),j=a(5),m={children:d.a.node,inline:d.a.bool,tag:j.l,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),className:d.a.string,cssModule:d.a.object},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(n.a)(a)),a.submit=a.submit.bind(Object(n.a)(a)),a}Object(r.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,n=e.inline,r=e.tag,i=e.innerRef,o=Object(l.a)(e,["className","cssModule","inline","tag","innerRef"]),d=Object(j.i)(u()(t,!!n&&"form-inline"),a);return c.a.createElement(r,Object(s.a)({},o,{ref:i,className:d}))},t}(i.Component);h.propTypes=m,h.defaultProps={tag:"form"},t.a=h},451:function(e,t,a){"use strict";var s=a(8),l=a(11),n=a(3),r=a.n(n),i=a(4),c=a.n(i),o=a(20),d=a.n(o),b=a(5),u={children:c.a.node,row:c.a.bool,check:c.a.bool,inline:c.a.bool,disabled:c.a.bool,tag:b.l,className:c.a.string,cssModule:c.a.object},j=function(e){var t=e.className,a=e.cssModule,n=e.row,i=e.disabled,c=e.check,o=e.inline,u=e.tag,j=Object(l.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),m=Object(b.i)(d()(t,!!n&&"row",c?"form-check":"form-group",!(!c||!o)&&"form-check-inline",!(!c||!i)&&"disabled"),a);return"fieldset"===u&&(j.disabled=i),r.a.createElement(u,Object(s.a)({},j,{className:m}))};j.propTypes=u,j.defaultProps={tag:"div"},t.a=j},516:function(e,t,a){"use strict";var s=a(8),l=a(11),n=a(25),r=a(12),i=a(3),c=a.n(i),o=a(4),d=a.n(o),b=a(20),u=a.n(b),j=a(5),m={children:d.a.node,type:d.a.string,size:d.a.oneOfType([d.a.number,d.a.string]),bsSize:d.a.string,valid:d.a.bool,invalid:d.a.bool,tag:j.l,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),plaintext:d.a.bool,addon:d.a.bool,className:d.a.string,cssModule:d.a.object},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(n.a)(a)),a.focus=a.focus.bind(Object(n.a)(a)),a}Object(r.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,n=e.type,r=e.bsSize,i=e.valid,o=e.invalid,d=e.tag,b=e.addon,m=e.plaintext,h=e.innerRef,p=Object(l.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),f=["radio","checkbox"].indexOf(n)>-1,x=new RegExp("\\D","g"),O=d||("select"===n||"textarea"===n?n:"input"),v="form-control";m?(v+="-plaintext",O=d||"input"):"file"===n?v+="-file":"range"===n?v+="-range":f&&(v=b?null:"form-check-input"),p.size&&x.test(p.size)&&(Object(j.o)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r=p.size,delete p.size);var g=Object(j.i)(u()(t,o&&"is-invalid",i&&"is-valid",!!r&&"form-control-"+r,v),a);return("input"===O||d&&"function"===typeof d)&&(p.type=n),p.children&&!m&&"select"!==n&&"string"===typeof O&&"select"!==O&&(Object(j.o)('Input with a type of "'+n+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete p.children),c.a.createElement(O,Object(s.a)({},p,{ref:h,className:g,"aria-invalid":o}))},t}(c.a.Component);h.propTypes=m,h.defaultProps={type:"text"},t.a=h},997:function(e,t,a){"use strict";a.r(t);var s=a(36),l=a(47),n=a(14),r=a(17),i=a(16),c=a(15),o=a(3),d=a(21),b=a(149),u=a(147),j=a.n(u),m=a(148),h=a(476),p=a.n(h),f=(a(448),a(412)),x=a(439),O=a(427),v=a(449),g=a(451),y=a(516),N=a(438),S=a(450),P=a(474),k=a(201),F=a(510),T=a.n(F),w=a(479),C=a.n(w),R=a(478),M=a.n(R),z=a(482),D=a.n(z),E=a(430),A=a(0),_=z.Search.SearchBar,V=z.CSVExport.ExportCSVButton;function L(e,t){var a=new Object(t.localite),s=a.lieu,l=(a.pays,a.quartier);a.ville;return Object(A.jsxs)("address",{children:[Object(A.jsxs)("span",{children:[" ",l," "]}),Object(A.jsx)("br",{}),Object(A.jsxs)("small",{className:"text-italic",children:[" ",s," "]})]})}function B(e,t){var a=new Date(t.date),s=a.toUTCString();return console.log(a),Object(A.jsxs)("span",{children:[" ",s," "]})}function I(e,t){return 0==t.level?Object(A.jsx)(x.a,{color:"gray-light",value:"100",children:" 0% "}):t.level<70?Object(A.jsxs)(x.a,{color:"success",value:e,children:[" ",e,"% "]}):t.level<85?Object(A.jsxs)(x.a,{color:"warning",value:e,children:[" ",e,"% "]}):Object(A.jsxs)(x.a,{color:"danger",value:e,children:[" ",e,"% "]})}function Y(e,t,a){return Object(A.jsx)("div",{className:"md-6 row ",children:Object(A.jsx)("div",{className:"pl-3 pr-3",children:Object(A.jsxs)(d.b,{to:"/indisponible",children:[Object(A.jsx)("span",{className:"fas fa-info-circle fa-2x text-info"})," "]})})})}var J={mode:"radio",clickToSelect:!0},Q=[{label:"tous",value:"all"},{label:"disponible",value:!0},{label:"indisponible",value:!1}],U={backgroundColor:"#E5F1FB",color:""},q=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e,r){var i;return Object(n.a)(this,a),(i=t.call(this,e,r)).getActivite=function(){var e=[];j.a.get(m.a).then((function(t){t.data.data.map((function(e){var t=e.machine,a=(e.ticket,e.info),s=(e.type,e.date,t.key);t.nom,t.localite;console.log(s);a.nb_dechets,a.nb_bte,a.nb_intrus,a.level})),i.setState({activites:e}),console.log(i.state.activites)}))},i.onChangeDay=function(e){i.setState({formFilter:{date:e}})},i.onChangeMonth=function(e){i.setState({formFilter:{mois:e}})},i.onChange=function(e){var t=e.target,a=t.form,n="checkbox"===t.type?t.checked:t.value;i.setState(Object(s.a)({},a.name,Object(l.a)(Object(l.a)({},i.state[a.name]),{},Object(s.a)({},t.name,n))))},i.onSubmit=function(e){console.log("Form submitted.."),console.log(i.state.formFilter),e.preventDefault()},i.ref=b.a.firestore().collection("activites"),i.unsubscribe=null,i.state={activites:[],machines:[],isFilter:!1,formFilter:{date:"",mois:"",heure:""},path:[{label:"Home",value:"/dashboard_machine"},{label:"Activite",value:"/list_activite"},{label:"Liste",value:""}]},i._columns=[{dataField:"key",text:"ID",hidden:!0},{dataField:"nom",text:"Nom",headerStyle:U,sort:!0},{dataField:"localite",text:"Emplacement",headerStyle:U,formatter:L,sort:!0},{dataField:"nb_dechets",text:"Total",headerStyle:U,sort:!0},{dataField:"nb_intrus",text:"Quantite intrus",headerStyle:U,sort:!0},{dataField:"nb_bte",text:"Quantite de bouteilles",headerStyle:U,sort:!0},{dataField:"ticket",text:"Ticket",headerStyle:U,hidden:!0,sort:!0},{dataField:"level",text:"Taux de remplissage",headerStyle:U,formatter:I,sort:!0},{dataField:"date",text:"Date",headerStyle:U,formatter:B,sort:!0},{dataField:"option",text:"Option",headerStyle:U,isDummyField:!0,formatter:Y}],i}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate),this.getActivite()}},{key:"render",value:function(){var e=this,t={custom:!0,paginationSize:4,pageStartIndex:1,sizePerPage:4,firstPageText:"First",prePageText:"Back",nextPageText:"Next",lastPageText:"Last",nextPageTitle:"First page",prePageTitle:"Pre page",firstPageTitle:"Next page",lastPageTitle:"Last page",showTotal:!0,paginationTotalRenderer:n,sizePerPageList:[{text:"2",value:2},{text:"5",value:5},{text:"All",value:this.state.activites.length}],totalSize:this.state.activites.length};console.log(this.state.activites);var a=this.state.formFilter.date,s=this.state.formFilter.mois;this.state.formFilter.heure;console.log(this.state.isFilter);var n=function(e,t,a){return Object(A.jsxs)("span",{className:"react-bootstrap-table-pagination-total",children:["Showing ",e," to ",t," of ",a," Results"]})};return Object(A.jsxs)(f.a,{children:[Object(A.jsx)(E.a,{path:this.state.path}),Object(A.jsx)(w.PaginationProvider,{pagination:C()(t),children:function(t){var n=t.paginationProps,r=t.paginationTableProps;return Object(A.jsxs)("div",{children:[Object(A.jsx)(D.a,{keyField:"key",columns:e._columns,data:e.state.activites,search:!0,children:function(t){return Object(A.jsxs)("div",{children:[Object(A.jsxs)(O.a,{children:[Object(A.jsx)("div",{className:"col-xl-7",children:Object(A.jsx)(v.a,{name:"formFilter",onSubmit:e.onSubmit,children:Object(A.jsxs)("div",{className:"row",children:[Object(A.jsx)("div",{className:"ml-3 d-flex",children:Object(A.jsx)("em",{className:"m-0 fas fa-filter fa-2x text-success align-self-center"})}),Object(A.jsx)(g.a,{children:Object(A.jsxs)("div",{className:"pl-3 mr-3",children:[Object(A.jsx)("label",{className:"text-bold",children:"Date"}),Object(A.jsx)(p.a,{inputProps:{className:"form-control"},defaultValue:a,value:a,onChange:e.onChangeDay})]})}),Object(A.jsx)(g.a,{children:Object(A.jsxs)("div",{className:"pl-3 mr-3",children:[Object(A.jsx)("label",{className:"text-bold",children:" Mois "}),Object(A.jsx)(p.a,{inputProps:{className:"form-control"},timeFormat:!1,defaultValue:s,value:s,dateFormat:"YYYY-MM",onChange:e.onChangeMonth})]})}),Object(A.jsx)(g.a,{children:Object(A.jsxs)("div",{className:"pl-3 mr-3",children:[Object(A.jsx)("label",{className:"text-bold",children:" Status "}),Object(A.jsx)(y.a,{type:"select",name:"status",placeholder:"etat de la machine",onChange:e.onChange,value:status.label,children:Q.map((function(e){return Object(A.jsxs)("option",{children:[" ",e.label," "]})}))})]})})]})})}),Object(A.jsx)("div",{className:"col-xl-5 align-self-center",children:Object(A.jsxs)("div",{className:"media",children:[Object(A.jsx)("div",{className:"media-body",children:Object(A.jsx)(_,Object(l.a)(Object(l.a)({},t.searchProps),{},{className:"custome-search-field",style:{color:"dark"},placeholder:"Rechercher un nom, une zone, un niveau de remplissage"}))}),Object(A.jsx)("div",{className:"align-self-start mr-2",children:Object(A.jsx)("em",{className:"fas fa-search fa-2x "})})]})})]}),Object(A.jsx)("div",{className:"col-xl-3 ml-auto"}),Object(A.jsxs)(N.a,{className:"m-20",children:[Object(A.jsx)(S.a,{className:"ml-5 mr-5",children:Object(A.jsx)(T.a,Object(l.a)(Object(l.a)({bootstrap4:!0,hover:!0,filter:M()(),selectRow:J},t.baseProps),r))}),Object(A.jsx)(P.a,{})]}),Object(A.jsx)("div",{className:"col",children:Object(A.jsxs)("div",{className:"media m-10",children:[Object(A.jsxs)(V,Object(l.a)(Object(l.a)({},t.csvProps),{},{className:"d-flex p-0 mr-5",children:[Object(A.jsx)(k.a,{color:"secondary",children:Object(A.jsx)("em",{className:"fas fa-share text-info"})}),Object(A.jsx)("em",{className:"align-self-center text-dark text-bold",children:"  Exporter au format CSV "})]})),Object(A.jsxs)(d.b,{to:"",title:"Imprimer la liste",className:"d-flex mr-3",children:[Object(A.jsx)(k.a,{color:"secondary",children:Object(A.jsx)("em",{className:"fa fa-print text-purple "})}),Object(A.jsx)("em",{className:"align-self-center text-dark text-bold",children:"  Imprimer la liste "})]}),Object(A.jsx)("div",{className:"col-xl-3",children:"."}),Object(A.jsx)("div",{className:"col-xl-1 ml-auto p-0",children:Object(A.jsx)("small",{className:"mb-0 mt-1 text-dark",children:"Mis \xe0 jour le : 04/05/21 14:24:18"})})]})})]})}}),Object(A.jsx)("div",{className:"ml-auto col-xl-3",children:Object(A.jsx)(w.PaginationListStandalone,Object(l.a)({},n))})]})}})]})}}]),a}(o.Component);t.default=q}}]);
//# sourceMappingURL=29.3b8b6a1d.chunk.js.map